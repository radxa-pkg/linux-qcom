From 68eb50502a2429a9edb812212262da1f1d6837c2 Mon Sep 17 00:00:00 2001
From: Xilin Wu <sophon@radxa.com>
Date: Mon, 28 Jul 2025 12:43:45 +0800
Subject: [PATCH 46/49] arm64: dts: qcom: qcs6490-radxa-dragon-q6a: Fix
 overlays of the root path

Signed-off-by: Xilin Wu <sophon@radxa.com>
---
 .../qcom/qcs6490-radxa-dragon-q6a-cam1-imx577.dtso | 14 ++++++--------
 ...-radxa-dragon-q6a-cam2-radxa-camera-8m-219.dtso | 11 ++++++++++-
 ...-radxa-dragon-q6a-cam3-radxa-camera-8m-219.dtso | 11 ++++++++++-
 ...s6490-radxa-dragon-q6a-radxa-display-10fhd.dtso |  2 +-
 4 files changed, 27 insertions(+), 11 deletions(-)

diff --git a/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-cam1-imx577.dtso b/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-cam1-imx577.dtso
index 7c740e9b927e..e510b081d2c3 100644
--- a/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-cam1-imx577.dtso
+++ b/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-cam1-imx577.dtso
@@ -9,14 +9,12 @@
 #include <dt-bindings/clock/qcom,camcc-sc7280.h>
 #include <dt-bindings/gpio/gpio.h>
 
-/ {
-	reserved-memory {
-		linux,cma {
-			compatible = "shared-dma-pool";
-			size = <0x0 0x8000000>;
-			reusable;
-			linux,cma-default;
-		};
+&{/reserved-memory} {
+	linux,cma {
+		compatible = "shared-dma-pool";
+		size = <0x0 0x8000000>;
+		reusable;
+		linux,cma-default;
 	};
 };
 
diff --git a/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-cam2-radxa-camera-8m-219.dtso b/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-cam2-radxa-camera-8m-219.dtso
index edd7a9f17cc3..59b35c0d0faa 100644
--- a/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-cam2-radxa-camera-8m-219.dtso
+++ b/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-cam2-radxa-camera-8m-219.dtso
@@ -9,7 +9,7 @@
 #include <dt-bindings/clock/qcom,camcc-sc7280.h>
 #include <dt-bindings/gpio/gpio.h>
 
-/ {
+&{/} {
 	ext_cam_clk_imx219: ext-cam-clk-imx219 {
 		status = "okay";
 		compatible = "fixed-clock";
@@ -31,6 +31,15 @@ camera_pwdn_gpio_0: camera-pwdn-gpio-0 {
 	};
 };
 
+&{/reserved-memory} {
+	linux,cma {
+		compatible = "shared-dma-pool";
+		size = <0x0 0x8000000>;
+		reusable;
+		linux,cma-default;
+	};
+};
+
 &camss {
 	vdda-phy-supply = <&vreg_l10c_0p88>;
 	vdda-pll-supply = <&vreg_l6b_1p2>;
diff --git a/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-cam3-radxa-camera-8m-219.dtso b/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-cam3-radxa-camera-8m-219.dtso
index 64e0c7e57a03..c20311e4e82b 100644
--- a/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-cam3-radxa-camera-8m-219.dtso
+++ b/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-cam3-radxa-camera-8m-219.dtso
@@ -9,7 +9,7 @@
 #include <dt-bindings/clock/qcom,camcc-sc7280.h>
 #include <dt-bindings/gpio/gpio.h>
 
-/ {
+&{/} {
 	ext_cam_clk_imx219_1: ext-cam-clk-imx219-1 {
 		status = "okay";
 		compatible = "fixed-clock";
@@ -31,6 +31,15 @@ camera_pwdn_gpio_1: camera-pwdn-gpio-1 {
 	};
 };
 
+&{/reserved-memory} {
+	linux,cma {
+		compatible = "shared-dma-pool";
+		size = <0x0 0x8000000>;
+		reusable;
+		linux,cma-default;
+	};
+};
+
 &camss {
 	vdda-phy-supply = <&vreg_l10c_0p88>;
 	vdda-pll-supply = <&vreg_l6b_1p2>;
diff --git a/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-radxa-display-10fhd.dtso b/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-radxa-display-10fhd.dtso
index 696c7a38535d..ddd300780dd3 100644
--- a/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-radxa-display-10fhd.dtso
+++ b/src/arch/arm64/boot/dts/qcom/qcs6490-radxa-dragon-q6a-radxa-display-10fhd.dtso
@@ -11,7 +11,7 @@
 #include <dt-bindings/pinctrl/qcom,pmic-gpio.h>
 #include <dt-bindings/pwm/pwm.h>
 
-/ {
+&{/} {
 	vcc_3v3_lcd: vcc-3v3-lcd-regulator {
 		compatible = "regulator-fixed";
 		regulator-name = "vcc_3v3";
-- 
2.50.1

