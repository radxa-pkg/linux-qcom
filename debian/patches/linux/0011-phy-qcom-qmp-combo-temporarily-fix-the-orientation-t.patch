From 14bdf2054339a2c60d398f17d5da0309f4fe8166 Mon Sep 17 00:00:00 2001
From: Xilin Wu <sophon@radxa.com>
Date: Sat, 24 May 2025 15:50:14 +0800
Subject: [PATCH 11/49] phy: qcom: qmp-combo: temporarily fix the orientation
 to reverse

---
 drivers/phy/qualcomm/phy-qcom-qmp-combo.c | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

diff --git a/src/drivers/phy/qualcomm/phy-qcom-qmp-combo.c b/src/drivers/phy/qualcomm/phy-qcom-qmp-combo.c
index b09fa00e9fe7..419c1eed18af 100644
--- a/src/drivers/phy/qualcomm/phy-qcom-qmp-combo.c
+++ b/src/drivers/phy/qualcomm/phy-qcom-qmp-combo.c
@@ -2424,6 +2424,13 @@ static bool qmp_combo_configure_dp_mode(struct qmp_combo *qmp)
 	const struct phy_configure_opts_dp *dp_opts = &qmp->dp_opts;
 	u32 val;
 
+	struct device *dev = qmp->dev;
+
+	if (reverse)
+		dev_info(dev, "Configuring DP for reverse orientation\n");
+	else
+		dev_info(dev, "Configuring DP for normal orientation\n");
+
 	val = DP_PHY_PD_CTL_PWRDN | DP_PHY_PD_CTL_AUX_PWRDN |
 	      DP_PHY_PD_CTL_PLL_PWRDN | DP_PHY_PD_CTL_DP_CLAMP_EN;
 
@@ -3771,7 +3778,7 @@ static int qmp_combo_probe(struct platform_device *pdev)
 	qmp->dev = dev;
 	dev_set_drvdata(dev, qmp);
 
-	qmp->orientation = TYPEC_ORIENTATION_NORMAL;
+	qmp->orientation = TYPEC_ORIENTATION_REVERSE;
 
 	qmp->cfg = of_device_get_match_data(dev);
 	if (!qmp->cfg)
-- 
2.50.1

